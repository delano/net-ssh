<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Transport::TestPacketStream</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Transport::TestPacketStream 
            
                <span class="parent">&lt; 
                    
                    Test::Unit::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/test/transport/test_packet_stream_rb.html">test/transport/test_packet_stream.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001083">test_available_for_read_should_return_nontrue_when_select_fails</a>,</li>
                
                <li><a href="#M001084">test_available_for_read_should_return_nontrue_when_self_is_not_ready</a>,</li>
                
                <li><a href="#M001085">test_available_for_read_should_return_true_when_self_is_ready</a>,</li>
                
                <li><a href="#M001086">test_cleanup_should_delegate_cleanup_to_client_and_server_states</a>,</li>
                
                <li><a href="#M001077">test_client_name_when_getnameinfo_and_gethostbyname_all_fail</a>,</li>
                
                <li><a href="#M001071">test_client_name_when_getnameinfo_fails_but_gethostbyname_works</a>,</li>
                
                <li><a href="#M001069">test_client_name_when_getnameinfo_fails_first_and_then_works</a>,</li>
                
                <li><a href="#M001068">test_client_name_when_getnameinfo_works</a>,</li>
                
                <li><a href="#M001116">test_enqueue_short_packet_should_ensure_packet_is_at_least_16_bytes_long</a>,</li>
                
                <li><a href="#M001092">test_if_needs_rekey_should_not_yield_if_neither_client_nor_server_states_need_rekey</a>,</li>
                
                <li><a href="#M001098">test_if_needs_rekey_should_yield_and_cleanup_if_both_need_rekey</a>,</li>
                
                <li><a href="#M001093">test_if_needs_rekey_should_yield_and_cleanup_if_client_needs_rekey</a>,</li>
                
                <li><a href="#M001094">test_if_needs_rekey_should_yield_and_cleanup_if_server_needs_rekey</a>,</li>
                
                <li><a href="#M001114">test_next_packet_fails_with_invalid_argument</a>,</li>
                
                <li><a href="#M001109">test_next_packet_should_block_when_requested_until_entire_packet_is_available</a>,</li>
                
                <li><a href="#M001104">test_next_packet_should_eventually_return_packet_when_non_blocking_and_partial_read</a>,</li>
                
                <li><a href="#M001099">test_next_packet_should_not_block_by_default</a>,</li>
                
                <li><a href="#M001100">test_next_packet_should_return_nil_when_non_blocking_and_not_ready</a>,</li>
                
                <li><a href="#M001102">test_next_packet_should_return_nil_when_non_blocking_and_partial_read</a>,</li>
                
                <li><a href="#M001103">test_next_packet_should_return_packet_when_non_blocking_and_full_read</a>,</li>
                
                <li><a href="#M001110">test_next_packet_when_blocking_should_fail_when_fill_could_not_read_any_data</a>,</li>
                
                <li><a href="#M001078">test_peer_ip_should_query_socket_for_info_about_peer</a>,</li>
                
                <li><a href="#M001115">test_send_packet_should_enqueue_and_send_data_immediately</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../Net.html">Net</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">PACKETS</td>
            <td>=</td>
            <td class="attr-value">{       &quot;3des-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\003\352\031\261k\243\200\204\301\203]!\a\306\217\201\a[^\304\317\322\264\265~\361\017\n\205\272, #[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\317\222v\316\234&lt;\310\377\310\034\346\351\020:\025{\372PDS\246\344\312J\364\301\n\262\r&lt;\037\231Mu\031\240\255\026\362\200A\305\027\341\261\331x\353\0372\3643h`\177\202&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\003\352\031\261k\243\200\204\301\203]!\a\306\217\201\a[^\304\317\322\264\265~\361\017\n\205\272, #[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\317\222v\316\234&lt;\310\377\310\034\346\351\020:\025{\372PDS\246\344\312J\364\301\n\262\r&lt;\037\231Mu\031\240\255\026\362\200A\305\027\341\261\331x\353\0372\3643&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\003\352\031\261k\243\200\204\301\203]!\a\306\217\201\a[^\304\317\322\264\265~\361\017\n\205\272, \235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\317\222v\316\234&lt;\310\377\310\034\346\351\020:\025{\372PDS\246\344\312J\364\301\n\262\r&lt;\037\231Mu\031\240\255\026\362\200\345\a{|\0367\355\2735\310'\n\342\250\246\030*1\353\330&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\003\352\031\261k\243\200\204\301\203]!\a\306\217\201\a[^\304\317\322\264\265~\361\017\n\205\272, \235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\317\222v\316\234&lt;\310\377\310\034\346\351\020:\025{\372PDS\246\344\312J\364\301\n\262\r&lt;\037\231Mu\031\240\255\026\362\200\345\a{|\0367\355\2735\310'\n&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\003\352\031\261k\243\200\204\301\203]!\a\306\217\201\a[^\304\317\322\264\265~\361\017\n\205\272, &quot;,           :standard =&gt; &quot;\317\222v\316\234&lt;\310\377\310\034\346\351\020:\025{\372PDS\246\344\312J\364\301\n\262\r&lt;\037\231Mu\031\240\255\026\362\200&quot;,         },       },       &quot;aes128-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\240\016\243k]0\330\253\030\320\334\261(\034E\211\230#\326\374\267\311O\211E(\234\325n\306NY#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\273\367\324\032\3762\334\026\r\246\342\022\016\325\024\270.\273\005\314\036\312\211\261\037A\361\362:W\316\352K\204\216b\2124&gt;A\265g\331\177\233dK\251\337\227`9L\324[bPd\253XY\205\241\310&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\240\016\243k]0\330\253\030\320\334\261(\034E\211\230#\326\374\267\311O\211E(\234\325n\306NY#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\273\367\324\032\3762\334\026\r\246\342\022\016\325\024\270.\273\005\314\036\312\211\261\037A\361\362:W\316\352K\204\216b\2124&gt;A\265g\331\177\233dK\251\337\227`9L\324[bPd\253X&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\240\016\243k]0\330\253\030\320\334\261(\034E\211\230#\326\374\267\311O\211E(\234\325n\306NY\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\273\367\324\032\3762\334\026\r\246\342\022\016\325\024\270.\273\005\314\036\312\211\261\037A\361\362:W\316\352K\204\216b\2124&gt;A\265g\331\177\233dK\251\314\r\224%\316I\370t\251\372]\031\322pH%\267\337r\247&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\240\016\243k]0\330\253\030\320\334\261(\034E\211\230#\326\374\267\311O\211E(\234\325n\306NY\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\273\367\324\032\3762\334\026\r\246\342\022\016\325\024\270.\273\005\314\036\312\211\261\037A\361\362:W\316\352K\204\216b\2124&gt;A\265g\331\177\233dK\251\314\r\224%\316I\370t\251\372]\031&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\240\016\243k]0\330\253\030\320\334\261(\034E\211\230#\326\374\267\311O\211E(\234\325n\306NY&quot;,           :standard =&gt; &quot;\273\367\324\032\3762\334\026\r\246\342\022\016\325\024\270.\273\005\314\036\312\211\261\037A\361\362:W\316\352K\204\216b\2124&gt;A\265g\331\177\233dK\251&quot;,         },       },       &quot;aes192-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;P$\377\302\326\262\276\215\206\343&amp;\257#\315&gt;Mp\232P\345o\215\330\213\t\027\300\360\300\037\267\003#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;se\347\230\026\311\212\250yH\241\302n\364:\276\270M=H1\317\222^\362\237D\225N\354:\343\205M\006[\313$U/yZ\330\235\032\307\320D\337\227`9L\324[bPd\253XY\205\241\310&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;P$\377\302\326\262\276\215\206\343&amp;\257#\315&gt;Mp\232P\345o\215\330\213\t\027\300\360\300\037\267\003#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;se\347\230\026\311\212\250yH\241\302n\364:\276\270M=H1\317\222^\362\237D\225N\354:\343\205M\006[\313$U/yZ\330\235\032\307\320D\337\227`9L\324[bPd\253X&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;P$\377\302\326\262\276\215\206\343&amp;\257#\315&gt;Mp\232P\345o\215\330\213\t\027\300\360\300\037\267\003\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;se\347\230\026\311\212\250yH\241\302n\364:\276\270M=H1\317\222^\362\237D\225N\354:\343\205M\006[\313$U/yZ\330\235\032\307\320D\314\r\224%\316I\370t\251\372]\031\322pH%\267\337r\247&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;P$\377\302\326\262\276\215\206\343&amp;\257#\315&gt;Mp\232P\345o\215\330\213\t\027\300\360\300\037\267\003\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;se\347\230\026\311\212\250yH\241\302n\364:\276\270M=H1\317\222^\362\237D\225N\354:\343\205M\006[\313$U/yZ\330\235\032\307\320D\314\r\224%\316I\370t\251\372]\031&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;P$\377\302\326\262\276\215\206\343&amp;\257#\315&gt;Mp\232P\345o\215\330\213\t\027\300\360\300\037\267\003&quot;,           :standard =&gt; &quot;se\347\230\026\311\212\250yH\241\302n\364:\276\270M=H1\317\222^\362\237D\225N\354:\343\205M\006[\313$U/yZ\330\235\032\307\320D&quot;,         },       },       &quot;aes256-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\337\227`9L\324[bPd\253XY\205\241\310&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\337\227`9L\324[bPd\253X&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\314\r\224%\316I\370t\251\372]\031\322pH%\267\337r\247&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\314\r\224%\316I\370t\251\372]\031&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365&quot;,         },       },       &quot;blowfish-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;vT\353\203\247\206L\255e\371\001 6B/\234g\332\371\224l\227\257\346\373E\237C2\212u)#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;U\257\231e\347\274\bh\016X\232h\334\v\005\316e1G$-\367##\256$rW\000\210\335_\360\f\000\205#\370\201\006A\305\027\341\261\331x\353\0372\3643h`\177\202&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;vT\353\203\247\206L\255e\371\001 6B/\234g\332\371\224l\227\257\346\373E\237C2\212u)#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;U\257\231e\347\274\bh\016X\232h\334\v\005\316e1G$-\367##\256$rW\000\210\335_\360\f\000\205#\370\201\006A\305\027\341\261\331x\353\0372\3643&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;vT\353\203\247\206L\255e\371\001 6B/\234g\332\371\224l\227\257\346\373E\237C2\212u)\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;U\257\231e\347\274\bh\016X\232h\334\v\005\316e1G$-\367##\256$rW\000\210\335_\360\f\000\205#\370\201\006\345\a{|\0367\355\2735\310'\n\342\250\246\030*1\353\330&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;vT\353\203\247\206L\255e\371\001 6B/\234g\332\371\224l\227\257\346\373E\237C2\212u)\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;U\257\231e\347\274\bh\016X\232h\334\v\005\316e1G$-\367##\256$rW\000\210\335_\360\f\000\205#\370\201\006\345\a{|\0367\355\2735\310'\n&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;vT\353\203\247\206L\255e\371\001 6B/\234g\332\371\224l\227\257\346\373E\237C2\212u)&quot;,           :standard =&gt; &quot;U\257\231e\347\274\bh\016X\232h\334\v\005\316e1G$-\367##\256$rW\000\210\335_\360\f\000\205#\370\201\006&quot;,         },       },       &quot;cast128-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\361\026\313!\31235|w~\n\261\257\277\e\277b\246b\342\333\eE\021N\345\343m\314\272\315\376#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\375i\253\004\311E\2011)\220$\251A\245\f(\371\263\314\242\353\260\272\367\276\&quot;\031\224$\244\311W\307Oe\224\0017\336\325A\305\027\341\261\331x\353\0372\3643h`\177\202&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\361\026\313!\31235|w~\n\261\257\277\e\277b\246b\342\333\eE\021N\345\343m\314\272\315\376#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\375i\253\004\311E\2011)\220$\251A\245\f(\371\263\314\242\353\260\272\367\276\&quot;\031\224$\244\311W\307Oe\224\0017\336\325A\305\027\341\261\331x\353\0372\3643&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\361\026\313!\31235|w~\n\261\257\277\e\277b\246b\342\333\eE\021N\345\343m\314\272\315\376\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\375i\253\004\311E\2011)\220$\251A\245\f(\371\263\314\242\353\260\272\367\276\&quot;\031\224$\244\311W\307Oe\224\0017\336\325\345\a{|\0367\355\2735\310'\n\342\250\246\030*1\353\330&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\361\026\313!\31235|w~\n\261\257\277\e\277b\246b\342\333\eE\021N\345\343m\314\272\315\376\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\375i\253\004\311E\2011)\220$\251A\245\f(\371\263\314\242\353\260\272\367\276\&quot;\031\224$\244\311W\307Oe\224\0017\336\325\345\a{|\0367\355\2735\310'\n&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\361\026\313!\31235|w~\n\261\257\277\e\277b\246b\342\333\eE\021N\345\343m\314\272\315\376&quot;,           :standard =&gt; &quot;\375i\253\004\311E\2011)\220$\251A\245\f(\371\263\314\242\353\260\272\367\276\&quot;\031\224$\244\311W\307Oe\224\0017\336\325&quot;,         },       },       &quot;idea-cbc&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\342\255\202$\273\201\025#\245\2341F\263\005@{\000&lt;\266&amp;s\016\251NH=J\322/\220 H#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;F\3048\360\357\265\215I\021)\a\254/\315%\354M\004\330\006\356\vFr\250K\225\223x\277+Q)\022\327\311K\025\322\317A\305\027\341\261\331x\353\0372\3643h`\177\202&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\342\255\202$\273\201\025#\245\2341F\263\005@{\000&lt;\266&amp;s\016\251NH=J\322/\220 H#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;F\3048\360\357\265\215I\021)\a\254/\315%\354M\004\330\006\356\vFr\250K\225\223x\277+Q)\022\327\311K\025\322\317A\305\027\341\261\331x\353\0372\3643&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\342\255\202$\273\201\025#\245\2341F\263\005@{\000&lt;\266&amp;s\016\251NH=J\322/\220 H\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;F\3048\360\357\265\215I\021)\a\254/\315%\354M\004\330\006\356\vFr\250K\225\223x\277+Q)\022\327\311K\025\322\317\345\a{|\0367\355\2735\310'\n\342\250\246\030*1\353\330&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\342\255\202$\273\201\025#\245\2341F\263\005@{\000&lt;\266&amp;s\016\251NH=J\322/\220 H\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;F\3048\360\357\265\215I\021)\a\254/\315%\354M\004\330\006\356\vFr\250K\225\223x\277+Q)\022\327\311K\025\322\317\345\a{|\0367\355\2735\310'\n&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\342\255\202$\273\201\025#\245\2341F\263\005@{\000&lt;\266&amp;s\016\251NH=J\322/\220 H&quot;,           :standard =&gt; &quot;F\3048\360\357\265\215I\021)\a\254/\315%\354M\004\330\006\356\vFr\250K\225\223x\277+Q)\022\327\311K\025\322\317&quot;,         },       },       &quot;none&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\000\000\000\034\b\004\001\000\000\000\tdebugging\000\000\000\000\b\030CgWO\260\212#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\000\000\000$\tx\234bad``\340LIM*MO\317\314K\ar\030\000\000\000\000\377\377\b\030CgWO\260\212^A\305\027\341\261\331x\353\0372\3643h`\177\202&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\000\000\000\034\b\004\001\000\000\000\tdebugging\000\000\000\000\b\030CgWO\260\212#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\000\000\000$\tx\234bad``\340LIM*MO\317\314K\ar\030\000\000\000\000\377\377\b\030CgWO\260\212^A\305\027\341\261\331x\353\0372\3643&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\000\000\000\034\b\004\001\000\000\000\tdebugging\000\000\000\000\b\030CgWO\260\212\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\000\000\000$\tx\234bad``\340LIM*MO\317\314K\ar\030\000\000\000\000\377\377\b\030CgWO\260\212^\345\a{|\0367\355\2735\310'\n\342\250\246\030*1\353\330&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\000\000\000\034\b\004\001\000\000\000\tdebugging\000\000\000\000\b\030CgWO\260\212\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\000\000\000$\tx\234bad``\340LIM*MO\317\314K\ar\030\000\000\000\000\377\377\b\030CgWO\260\212^\345\a{|\0367\355\2735\310'\n&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\000\000\000\034\b\004\001\000\000\000\tdebugging\000\000\000\000\b\030CgWO\260\212&quot;,           :standard =&gt; &quot;\000\000\000$\tx\234bad``\340LIM*MO\317\314K\ar\030\000\000\000\000\377\377\b\030CgWO\260\212^&quot;,         },       },       &quot;rijndael-cbc@lysator.liu.se&quot; =&gt; {         &quot;hmac-md5&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340#[\343\200Sb\377\265\322\003=S\255N\2654&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\337\227`9L\324[bPd\253XY\205\241\310&quot;,         },         &quot;hmac-md5-96&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340#[\343\200Sb\377\265\322\003=S&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\337\227`9L\324[bPd\253X&quot;,         },         &quot;hmac-sha1&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340\235J\004f\262\3730t\376\273\323n\260\275\202\223\214\370D\204&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\314\r\224%\316I\370t\251\372]\031\322pH%\267\337r\247&quot;,         },         &quot;hmac-sha1-96&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340\235J\004f\262\3730t\376\273\323n&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365\314\r\224%\316I\370t\251\372]\031&quot;,         },         &quot;none&quot; =&gt; {           false =&gt; &quot;\266\001oG(\201s\255[\202j\031-\354\353]\022\374\367j2\257\b#\273r\275\341\232\264\255\340&quot;,           :standard =&gt; &quot;\251!O/_\253\321\217e\225\202\202W\261p\r\357\357\375\231\264Y,nZ/\366\225G\256\3000\036\223\237\353\265vG\231\215cvY\236%\315\365&quot;,         },       },     }</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001083">
                    
                    <a name="M001083"></a><b>test_available_for_read_should_return_nontrue_when_select_fails</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001083_source')" id="l_M001083_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L46" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001083_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 46</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_available_for_read_should_return_nontrue_when_select_fails</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">stream</span>.<span class="ruby-identifier">available_for_read?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001084">
                    
                    <a name="M001084"></a><b>test_available_for_read_should_return_nontrue_when_self_is_not_ready</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001084_source')" id="l_M001084_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L51" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001084_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 51</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_available_for_read_should_return_nontrue_when_self_is_not_ready</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">with</span>([<span class="ruby-identifier">stream</span>], <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">returns</span>([[],[],[]])
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">stream</span>.<span class="ruby-identifier">available_for_read?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001085">
                    
                    <a name="M001085"></a><b>test_available_for_read_should_return_true_when_self_is_ready</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001085_source')" id="l_M001085_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L56" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001085_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 56</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_available_for_read_should_return_true_when_self_is_ready</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">with</span>([<span class="ruby-identifier">stream</span>], <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-keyword kw">self</span>],[],[]])
      <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">available_for_read?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001086">
                    
                    <a name="M001086"></a><b>test_cleanup_should_delegate_cleanup_to_client_and_server_states</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001086_source')" id="l_M001086_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L61" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001086_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 61</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cleanup_should_delegate_cleanup_to_client_and_server_states</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:cleanup</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:cleanup</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">cleanup</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001077">
                    
                    <a name="M001077"></a><b>test_client_name_when_getnameinfo_and_gethostbyname_all_fail</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001077_source')" id="l_M001077_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L31" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001077_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 31</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_name_when_getnameinfo_and_gethostbyname_all_fail</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getsockname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:sockaddr</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NAMEREQD</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:gethostname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:hostname</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:gethostbyname</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:hostname</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;unknown&quot;</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client_name</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001071">
                    
                    <a name="M001071"></a><b>test_client_name_when_getnameinfo_fails_but_gethostbyname_works</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001071_source')" id="l_M001071_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L22" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001071_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 22</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_name_when_getnameinfo_fails_but_gethostbyname_works</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getsockname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:sockaddr</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NAMEREQD</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:gethostname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:hostname</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:gethostbyname</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:hostname</span>).<span class="ruby-identifier">returns</span>([<span class="ruby-value str">&quot;net.ssh.test&quot;</span>])
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;net.ssh.test&quot;</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client_name</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001069">
                    
                    <a name="M001069"></a><b>test_client_name_when_getnameinfo_fails_first_and_then_works</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001069_source')" id="l_M001069_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L15" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001069_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 15</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_name_when_getnameinfo_fails_first_and_then_works</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getsockname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:sockaddr</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NAMEREQD</span>).<span class="ruby-identifier">raises</span>(<span class="ruby-constant">SocketError</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>).<span class="ruby-identifier">returns</span>([<span class="ruby-value str">&quot;1.2.3.4&quot;</span>])
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1.2.3.4&quot;</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client_name</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001068">
                    
                    <a name="M001068"></a><b>test_client_name_when_getnameinfo_works</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001068_source')" id="l_M001068_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L9" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001068_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 9</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_name_when_getnameinfo_works</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getsockname</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:sockaddr</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NAMEREQD</span>).<span class="ruby-identifier">returns</span>([<span class="ruby-value str">&quot;net.ssh.test&quot;</span>])
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;net.ssh.test&quot;</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client_name</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001116">
                    
                    <a name="M001116"></a><b>test_enqueue_short_packet_should_ensure_packet_is_at_least_16_bytes_long</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001116_source')" id="l_M001116_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L161" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001116_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 161</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_enqueue_short_packet_should_ensure_packet_is_at_least_16_bytes_long</span>
      <span class="ruby-identifier">packet</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">:byte</span>, <span class="ruby-value">0</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">enqueue_packet</span>(<span class="ruby-identifier">packet</span>)
      <span class="ruby-comment cmt"># 12 originally, plus the block-size (8), plus the 4-byte length field</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">24</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">write_buffer</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001092">
                    
                    <a name="M001092"></a><b>test_if_needs_rekey_should_not_yield_if_neither_client_nor_server_states_need_rekey</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001092_source')" id="l_M001092_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L67" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001092_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 67</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_if_needs_rekey_should_not_yield_if_neither_client_nor_server_states_need_rekey</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">if_needs_rekey?</span> { <span class="ruby-identifier">flunk</span> <span class="ruby-value str">&quot;shouldn't need rekey&quot;</span> }
      <span class="ruby-identifier">assert</span>(<span class="ruby-keyword kw">true</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001098">
                    
                    <a name="M001098"></a><b>test_if_needs_rekey_should_yield_and_cleanup_if_both_need_rekey</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001098_source')" id="l_M001098_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L90" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001098_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 90</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_if_needs_rekey_should_yield_and_cleanup_if_both_need_rekey</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:needs_rekey?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:needs_rekey?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>)
      <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">if_needs_rekey?</span> { <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">true</span> }
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">rekeyed</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001093">
                    
                    <a name="M001093"></a><b>test_if_needs_rekey_should_yield_and_cleanup_if_client_needs_rekey</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001093_source')" id="l_M001093_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L72" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001093_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 72</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_if_needs_rekey_should_yield_and_cleanup_if_client_needs_rekey</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:needs_rekey?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>).<span class="ruby-identifier">never</span>
      <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">if_needs_rekey?</span> { <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">true</span> }
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">rekeyed</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001094">
                    
                    <a name="M001094"></a><b>test_if_needs_rekey_should_yield_and_cleanup_if_server_needs_rekey</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001094_source')" id="l_M001094_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L81" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001094_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 81</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_if_needs_rekey_should_yield_and_cleanup_if_server_needs_rekey</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:needs_rekey?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>)
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:reset!</span>).<span class="ruby-identifier">never</span>
      <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">if_needs_rekey?</span> { <span class="ruby-identifier">rekeyed</span> = <span class="ruby-keyword kw">true</span> }
      <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">rekeyed</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001114">
                    
                    <a name="M001114"></a><b>test_next_packet_fails_with_invalid_argument</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001114_source')" id="l_M001114_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L150" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001114_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 150</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_fails_with_invalid_argument</span>
      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-value str">&quot;invalid&quot;</span>) }
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001109">
                    
                    <a name="M001109"></a><b>test_next_packet_should_block_when_requested_until_entire_packet_is_available</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001109_source')" id="l_M001109_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L136" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001109_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 136</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_block_when_requested_until_entire_packet_is_available</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:recv</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">packet</span>[<span class="ruby-value">0</span>,<span class="ruby-value">10</span>], <span class="ruby-identifier">packet</span>[<span class="ruby-value">10</span>,<span class="ruby-value">20</span>], <span class="ruby-identifier">packet</span>[<span class="ruby-value">20</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>])
      <span class="ruby-identifier">packet</span> = <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:block</span>)
      <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">packet</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DEBUG</span>, <span class="ruby-identifier">packet</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001104">
                    
                    <a name="M001104"></a><b>test_next_packet_should_eventually_return_packet_when_non_blocking_and_partial_read</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001104_source')" id="l_M001104_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L127" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001104_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 127</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_eventually_return_packet_when_non_blocking_and_partial_read</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:recv</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">packet</span>[<span class="ruby-value">0</span>,<span class="ruby-value">10</span>], <span class="ruby-identifier">packet</span>[<span class="ruby-value">10</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>])
      <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:nonblock</span>)
      <span class="ruby-identifier">packet</span> = <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:nonblock</span>)
      <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">packet</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DEBUG</span>, <span class="ruby-identifier">packet</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001099">
                    
                    <a name="M001099"></a><b>test_next_packet_should_not_block_by_default</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001099_source')" id="l_M001099_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L100" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001099_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 100</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_not_block_by_default</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
        <span class="ruby-identifier">timeout</span>(<span class="ruby-value">1</span>) { <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span> }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001100">
                    
                    <a name="M001100"></a><b>test_next_packet_should_return_nil_when_non_blocking_and_not_ready</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001100_source')" id="l_M001100_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L107" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001100_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 107</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_return_nil_when_non_blocking_and_not_ready</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:nonblock</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001102">
                    
                    <a name="M001102"></a><b>test_next_packet_should_return_nil_when_non_blocking_and_partial_read</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001102_source')" id="l_M001102_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L112" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001102_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 112</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_return_nil_when_non_blocking_and_partial_read</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:recv</span>).<span class="ruby-identifier">returns</span>([<span class="ruby-value">8</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">&quot;N&quot;</span>))
      <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:nonblock</span>)
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">stream</span>.<span class="ruby-identifier">read_buffer</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001103">
                    
                    <a name="M001103"></a><b>test_next_packet_should_return_packet_when_non_blocking_and_full_read</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001103_source')" id="l_M001103_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L119" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001103_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 119</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_should_return_packet_when_non_blocking_and_full_read</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:recv</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">packet</span>)
      <span class="ruby-identifier">packet</span> = <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:nonblock</span>)
      <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">packet</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DEBUG</span>, <span class="ruby-identifier">packet</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001110">
                    
                    <a name="M001110"></a><b>test_next_packet_when_blocking_should_fail_when_fill_could_not_read_any_data</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001110_source')" id="l_M001110_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L144" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001110_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 144</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_packet_when_blocking_should_fail_when_fill_could_not_read_any_data</span>
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">returns</span>([[<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:recv</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">&quot;&quot;</span>)
      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Disconnect</span>) { <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">:block</span>) }
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001078">
                    
                    <a name="M001078"></a><b>test_peer_ip_should_query_socket_for_info_about_peer</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001078_source')" id="l_M001078_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L40" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001078_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 40</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_peer_ip_should_query_socket_for_info_about_peer</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getpeername</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">:sockaddr</span>)
      <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:getnameinfo</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:sockaddr</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NUMERICHOST</span> <span class="ruby-operator">|</span> <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">NI_NUMERICSERV</span>).<span class="ruby-identifier">returns</span>([<span class="ruby-value str">&quot;1.2.3.4&quot;</span>])
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1.2.3.4&quot;</span>, <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">peer_ip</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001115">
                    
                    <a name="M001115"></a><b>test_send_packet_should_enqueue_and_send_data_immediately</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001115_source')" id="l_M001115_source">show</a>
                        
                        | <a href="http://github.com/delano/net-ssh/blob/acbe7c6eff1827aeef3dcfff70478ed66dba3c73/test/transport/test_packet_stream.rb#L154" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001115_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File test/transport/test_packet_stream.rb, line 154</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_send_packet_should_enqueue_and_send_data_immediately</span>
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:send</span>).<span class="ruby-identifier">times</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">with</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">write_buffer</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> }.<span class="ruby-identifier">returns</span>(<span class="ruby-value">15</span>)
      <span class="ruby-constant">IO</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:select</span>).<span class="ruby-identifier">times</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">returns</span>([[], [<span class="ruby-identifier">stream</span>]])
      <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">send_packet</span>(<span class="ruby-identifier">ssh_packet</span>)
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">stream</span>.<span class="ruby-identifier">pending_write?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    